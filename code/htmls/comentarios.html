<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../assets/css/mobitech_connect.css">
    <link rel="stylesheet" href="../assets/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <title>Feed de postagens</title>
    
</head>
<body>
    <div class="wrapper">
      <header>
            <nav class="navbar navbar-expand-lg" data-bs-theme="dark">
                <div class="container-fluid">
                  <a class="navbar-brand" href="index.html"><img src="../assets/img/movewave-logo.png" alt=""></a>
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
                  <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                      <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="comentarios.html">Mobitech Connect</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="pag_mapa.html">Mapa</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="informações.html">Informações</a>
                      </li>
                                                  <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="acesso_prefeitura.html">Acesso da prefeitura</a>
                            </li>    
                    </ul>
                    <div class="d-flex">
                        <a href="pag_login.html" class="nav-link text-light">
                            <i class="fas fa-user"></i>
                        </a>
                        <a href="#" class="nav-link text-light" id="settings-icon-link" style="display:none;">
                            <i class="fas fa-cog"></i>
                        </a>
                    </div>
                </div>
            </nav>
        </header>
        <div id="user-popup" class="user-popup" style="display:none;">
          <div class="user-popup-content">
            <div class="user-popup-title">Configurações do Usuário</div>
            <div class="user-email">usuário@exemplo.com</div>
            <button class="user-change-password">Alterar Senha</button>
            <button class="user-logout">Sair</button>
          </div>
        </div>
        <main class="content">
            <div class="main-content-container">
                <div class="feed-aside">
                    <div class="feed-header">
                        <h1 class="feed-title">Feed de postagens</h1>
                        <button id="createPostBtn" class="btn btn-primary">+ Criar Post</button>
                        <div class="emergency-contacts">
                            <h3><i class="fas fa-exclamation-triangle" style="margin-right: 8px;"></i>Contatos de Emergência</h3>
                            <div class="emergency-card">
                                <p><i class="fas fa-fire" style="margin-right: 8px;"></i>Bombeiros: <strong>193</strong></p>
                            </div>
                            <div class="emergency-card">
                                <p><i class="fas fa-shield-alt" style="margin-right: 8px;"></i>Polícia Civil: <strong>181</strong></p>
                            </div>
                            <div class="emergency-card">
                                <p><i class="fas fa-car-crash" style="margin-right: 8px;"></i>Polícia Militar: <strong>190</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="feed-content">
                    <div id="posts-container" class="posts-container">
                        </div>
                </div>
                <div class="search-sidebar">
                    <div class="search-container">
                        <input type="text" id="search-input" placeholder="Pesquisar postagens...">
                        <button id="search-button">Pesquisar</button>
                    </div>
                </div>
            </div>

            <div id="postModal" class="modal fade" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Criar Nova Postagem</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form id="postForm">
                                <div class="mb-3">
                                    <label for="postTitle" class="form-label">Título</label>
                                    <input type="text" class="form-control" id="postTitle" required>
                                </div>
                                <div class="mb-3">
                                    <label for="postContent" class="form-label">Conteúdo</label>
                                    <textarea class="form-control" id="postContent" rows="4" required></textarea>
                                </div>
                                <div class="mb-3">
                                    <label for="postAddress">Endereço/Bairro:</label>
                                    <input type="text" id="postAddress" name="postAddress" class="form-control" placeholder="Digite o bairro ou endereço">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Tipo de Problema:</label>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="problemType1" value="Bueiros Entupidos">
                                        <label class="form-check-label" for="problemType1">Bueiros Entupidos</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="problemType2" value="Drenagem Insuficiente / Ausente">
                                        <label class="form-check-label" for="problemType2">Drenagem Insuficiente / Ausente</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="problemType3" value="Lixo ou Entulho nas Ruas">
                                        <label class="form-check-label" for="problemType3">Lixo ou Entulho nas Ruas</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="problemType4" value="Buracos e Asfalto Danificado">
                                        <label class="form-check-label" for="problemType4">Buracos e Asfalto Danificado</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="problemType5" value="Falta de Limpeza Urbana">
                                        <label class="form-check-label" for="problemType5">Falta de Limpeza Urbana</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="problemType7" value="Outros">
                                        <label class="form-check-label" for="problemType7">Outros</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="problemType8" value="Enchente">
                                        <label class="form-check-label" for="problemType8">Enchente</label>
                                        <span id="floodNowContainer" style="display:none; margin-left: 10px;">
                                            <label style="margin-right: 5px;">Está acontecendo neste exato momento?</label>
                                            <input type="radio" name="floodNow" id="floodNowYes" value="Sim"> <label for="floodNowYes">Sim</label>
                                            <input type="radio" name="floodNow" id="floodNowNo" value="Não" style="margin-left: 8px;"> <label for="floodNowNo">Não</label>
                                        </span>
                                    </div>
                                </div>
                                <div class="mb-3" id="otherProblemContainer" style="display:none;">
                                    <label for="otherProblemInput" class="form-label">Descreva o problema:</label>
                                    <input type="text" class="form-control" id="otherProblemInput" placeholder="Digite o tipo de problema">
                                </div>
                                <div class="mb-3">
                                    <label for="postImage" class="form-label">Imagem (opcional)</label>
                                    <input class="form-control" type="file" id="postImage" accept="image/*">
                                    <div id="imagePreview" class="mt-2"></div>
                                </div>
                                <div class="mb-3 form-check">
                                    <input type="checkbox" class="form-check-input" id="includeLocation">
                                    <label class="form-check-label" for="includeLocation">Incluir minha localização</label>
                                </div>
                                <div id="locationInfo" class="alert alert-info d-none"></div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                    <button type="submit" id="submitPostBtn" class="btn btn-primary">Publicar</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer>
            <div class="footer-content">
                <div class="copyright">
                    <p>© 2025 Mobitech Urban. Todos os direitos reservados.</p>
                </div>
                <div class="address">
                    <p>Avenida Dom José Gaspar, 500, Belo Horizonte – MG</p>
                </div>
                <div class="contact">
                    <p>(31) 4556-2025 | atendimento@mobtechurban.com.br</p>
                </div>
                <div class="social-media">
                    <span>Signore:</span>
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/problemas_urbanos.js"></script>
    <script src="../assets/js/script.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const otherCheckbox = document.getElementById('problemType7');
        const otherContainer = document.getElementById('otherProblemContainer');
        otherCheckbox.addEventListener('change', function() {
            if (this.checked) {
                otherContainer.style.display = 'block';
            } else {
                otherContainer.style.display = 'none';
                document.getElementById('otherProblemInput').value = '';
            }
        });
        const floodCheckbox = document.getElementById('problemType8');
        const floodNowContainer = document.getElementById('floodNowContainer');
        floodCheckbox.addEventListener('change', function() {
            if (this.checked) {
                floodNowContainer.style.display = 'inline-block';
            } else {
                floodNowContainer.style.display = 'none';
                document.getElementById('floodNowYes').checked = false;
                document.getElementById('floodNowNo').checked = false;
            }
        });
    });
    </script>
</body>
</html>